<%- include('../../partials/master/_head') %>
    <section class="section-padding grid-news">
        <div class="container" style="padding: 0 11.5% 0 11.5%;">
            <div class="flex items-center justify-center bg-gray-50">
                <div class="bg-white shadow-md rounded-lg w-full p-8 mx-auto">
                    <h1 class="text-3xl font-semibold text-gray-900 mb-6 flex items-center">
                        <i class="fas fa-file-alt mr-3 text-blue-600"></i> Edit Campaign
                    </h1>
                    <form class="space-y-6" action="/admin/campaign/update/<%= id %>" method="POST"
                        enctype="multipart/form-data">
                        <div>
                            <small for="dana" class="block text-sm font-medium text-gray-700 mb-1"><span
                                    class="text-grey-500">*</span> Hanya dapat
                                dilihat</small>
                            <label for="daa" class="block text-sm font-medium text-gray-700 mb-1">
                                Dana Terkumpul Campaign
                            </label>
                            <input type="text" value="<%= dana_terkumpul %>" id="daa" name="dana_terkumpul" readonly
                                placeholder="Hanya Bisa Dilihat"
                                class="block w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition" />
                        </div>

                        <div>
                            <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
                                Campaign Title <span class="text-red-500">*</span>
                            </label>
                            <input type="text" value="<%= judul %>" id="title" name="judul" required
                                placeholder="Enter campaign title"
                                class="block w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition" />
                        </div>

                        <div>
                            <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
                                Description <span class="text-red-500">*</span>
                            </label>
                            <textarea id="description" name="deskripsi" rows="4" required
                                placeholder="Write a detailed description of the campaign"
                                class="block w-full h-32 rounded-md border border-gray-300 px-4 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition resize-y"><%= deskripsi %></textarea>
                        </div>

                        <div>
                            <label for="dana" class="block text-sm font-medium text-gray-700 mb-1">
                                Target Dana Campaign <span class="text-red-500">*</span>
                            </label>
                            <input type="text" value="<%= target_dana %>" id="dana" name="target_dana" required
                                placeholder="Enter target dana campaign"
                                class="block w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition" />
                        </div>

                        <div>
                            <label for="date" class="block text-sm font-medium text-gray-700 mb-1">
                                Campaign Berakhir <span class="text-red-500">*</span>
                            </label>
                            <input value="<%= tanggal_berakhir.toISOString().split('T')[0] %>" type="date" id="date"
                                name="tanggal_berakhir" required
                                class="block w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition" />
                        </div>

                        <label for="category" class="block text-sm font-medium text-gray-700 mb-1">
                            Status <span class="text-red-500">*</span>
                        </label>
                        <select id="category" name="status" required
                            class="block w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-900 focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition">
                            <option value="" disabled <%=!status ? 'selected' : '' %>>Select a Status</option>
                            <option value="pending" <%=status==='pending' ? 'selected' : '' %>>Pending</option>
                            <option value="aktif" <%=status==='aktif' ? 'selected' : '' %>>Aktif</option>
                            <option value="ditolak" <%=status==='ditolak' ? 'selected' : '' %>>Ditolak</option>
                            <option value="selesai" <%=status==='selesai' ? 'selected' : '' %>>Selesai</option>
                        </select>
                        <div>
                            <label for="attachment" class="block text-sm font-medium text-gray-700 mb-1">
                                Foto Campaign
                            </label>
                            <input type="file" id="attachment" name="foto_campaign" accept="image/*"
                                class="block w-full text-gray-700 file:border file:border-gray-300 file:rounded file:px-3 file:py-2 file:text-sm file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200 transition cursor-pointer" />
                            <% if (foto_campaign) { %>
                                <div class="mt-2">
                                    <img src="/images/<%= foto_campaign %>" alt="Current Image" width="150" />
                                </div>
                                <% } %>
                                    <input type="hidden" name="foto_campaign_lama" value="<%= foto_campaign %>">
                        </div>

                        <div class="flex justify-between items-center pt-4 border-t border-gray-200">
                            <a href="/admin/campaign"
                                class="text-blue-600 hover:underline font-medium flex items-center">
                                <i class="fas fa-arrow-left mr-2"></i> Back
                            </a>
                            <div class="flex space-x-4">
                                <button type="submit"
                                    class="px-6 py-2 rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition">
                                    Update Campaign
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
    </section>

    <%- include('../../partials/master/_foot') %>